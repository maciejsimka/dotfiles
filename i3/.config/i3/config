# GAPS
for_window [class="^.*"] border pixel 2
gaps inner 10
gaps outer 10
smart_borders on

# VARIABLES
set $term --no-startup-id $TERMINAL
set $mod Mod4
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set_from_resource $darkblack   color0  #000000
set_from_resource $black       color8  #000000
set_from_resource $darkred     color1  #000000
set_from_resource $red         color9  #000000
set_from_resource $darkgreen   color2  #000000
set_from_resource $green       color10 #000000
set_from_resource $darkyellow  color3  #000000
set_from_resource $yellow      color11 #000000
set_from_resource $darkblue    color4  #000000
set_from_resource $blue        color12 #000000
set_from_resource $darkmagenta color5  #000000
set_from_resource $magenta     color13 #000000
set_from_resource $darkcyan    color6  #000000
set_from_resource $cyan        color14 #000000
set_from_resource $darkwhite   color7  #000000
set_from_resource $white       color15 #000000
set $transparent #00000000
set $accent #ff5fff

set $power_control "[l]ock log[o]ut [s]uspend [h]ibernate [r]eboot [p]oweroff"
mode  $power_control {
    bindsym l exec ~/.i3/lock.sh; mode "default"
    bindsym o exec i3-msg exit; mode "default"
    bindsym s exec systemctl suspend; mode "default"
    bindsym h exec systemctl hibernate; mode "default"
    bindsym r exec [class=".*"] kill; exec sleep 3; exec systemctl reboot; mode "default"
    bindsym p exec [class=".*"] kill; exec sleep 3; exec systemctl poweroff; mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# START
# wallpaper
exec_always --no-startup-id feh --bg-scale ~/.config/wall.jpg
# notifications
exec --no-startup-id dunst
# compositor
exec --no-startup-id compton -b
# make mouse cursor invisible after period of incactivity
exec --no-startup-id unclutter
# bar
exec_always --no-startup-id $HOME/.config/polybar/launch.sh
# redshift
exec --no-startup-id redshift
# network manager
exec --no-startup-id nm-applet
# usb storage automounter
exec --no-startup-id udiskie --smart-tray
# torrent client
exec --no-startup-id deluge
# JACK and utils
exec --no-startup-id cadence-session-start -s

# remaps
exec --no-startup-id remap

# FONT
font pango:Iosevka Term 10

# COLORS                border       background text     indicator   child_border
client.focused          $red         $red       $magenta $darkmagenta $darkblue
client.unfocused        $transparent $blue      $white   $darkblue    $darkblack
client.focused_inactive $transparent $blue      $white   $darkblue    $darkblack
client.urgent           $darkred     $darkred   $black   $darkred     $darkred
client.background $black

# BINDINGS
bindsym $mod+Return exec $term

bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

bindsym --release Print       exec --no-startup-id scrot
bindsym --release Shift+Print exec --no-startup-id scrot -u

# bindsym $mod+Escape
# bindsym $mod+Shift+Escape

# bindsym $mod+BackSpace
# bindsym $mod+Shift+BackSpace

bindsym $mod+q       kill
bindsym $mod+shift+q mode $power_control

bindsym $mod+w       exec --no-startup-id $BROWSER
# bindsym $mod+Shift+w

bindsym $mod+e       exec $term -e neomutt
# bindsym $mod+Shift+e

bindsym $mod+r       exec $term -e ranger
bindsym $mod+Shift+r restart

bindsym $mod+t       split toggle
bindsym $mod+Shift+t gaps inner current set 15; gaps outer current set 15

# bindsym $mod+y
bindsym $mod+Shift+y exec --no-startup-id i3resize left

# bindsym $mod+u
bindsym $mod+Shift+u exec --no-startup-id i3resize down

bindsym $mod+i       exec $term -e htop
bindsym $mod+Shift+i exec --no-startup-id i3resize up

# bindsym $mod+o
bindsym $mod+Shift+o exec --no-startup-id i3resize right

bindsym $mod+p       exec keepassxc
# bindsym $mod+Shift+p

# bindsym $mod+a
# bindsym $mod+Shift+a

bindsym $mod+s       gaps inner current plus 5
bindsym $mod+Shift+s gaps inner current minus 5

bindsym $mod+d       exec --no-startup-id rofi -show combi
bindsym $mod+Shift+d gaps inner current set 0; gaps outer current set 0

bindsym $mod+f       fullscreen toggle
# bindsym $mod+Shift+f

bindsym $mod+g       exec gnucash
# bindsym $mod+Shift+g

bindsym $mod+h       focus left
bindsym $mod+Shift+h move left 30

bindsym $mod+j       focus down
bindsym $mod+Shift+j move down 30

bindsym $mod+k       focus up
bindsym $mod+Shift+k move up 30

bindsym $mod+l       focus right
bindsym $mod+Shift+l move right 30

bindsym $mod+z       gaps outer current plus 5
bindsym $mod+Shift+z gaps outer current minus 5

# bindsym $mod+x
# bindsym $mod+Shift+x

#bindsym $mod+c
# bindsym $mod+Shift+c

#bindsym $mod+v
#bindsym $mod+Shift+v

# bindsym $mod+b
bindsym $mod+Shift+b floating toggle; sticky toggle; exec --no-startup-id bottomleft

bindsym $mod+n       exec $term -e newsboat
bindsym $mod+Shift+n floating toggle; sticky toggle; exec --no-startup-id bottomright

bindsym $mod+m       exec spotify
# bindsym $mod+Shift+m

bindsym $mod+comma    workspace prev
bindsym $mod+period   workspace next

# WORKSPACES
# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

# Workspace assignment
assign [class="Firefox"] $ws2
assign [class="Skype"] $ws8
assign [class="Spotify"] $ws9
assign [class="Deluge"] $ws10
assign [class="Soulseek"] $ws10
